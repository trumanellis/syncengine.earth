<!DOCTYPE html>
<html lang="en" data-theme="quiet-protocol">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Mesh â€” Technical Architecture | Synchronicity Engine</title>
  <meta name="description" content="Deep dive into the delay-tolerant P2P mesh networking that powers the Synchronicity Engine. Indra's Net made digital.">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=JetBrains+Mono:wght@400;500;600&family=Exo:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /* ============================================
       RESET & BASE
    ============================================ */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'JetBrains Mono', monospace;
      line-height: 1.7;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    /* ============================================
       CSS VARIABLES - BASE/SHARED
    ============================================ */
    :root {
      --void-black: #0a0a0a;
      --gold: #d4af37;
      --cyan: #00d4aa;
      --moss: #7cb87c;
      --moss-bright: #39ff14;
      --lilac: #c4a7d7;
      --deep-teal: #1a2e2e;
      --parchment: #F7F3E9;
      --sage: #84A98C;
      --cyan-neon: #00FFD1;
      --void-neon: #0a0e0f;

      --bg-primary: var(--void-black);
      --bg-secondary: #161616;
      --text-primary: var(--parchment);
      --text-secondary: var(--moss);
      --accent-1: var(--gold);
      --accent-2: var(--cyan);
      --border-radius: 4px;
      --glow-effect: none;
      --heading-font: 'Cormorant Garamond', serif;
      --body-font: 'JetBrains Mono', monospace;
      --transition-speed: 200ms;
    }

    /* ============================================
       THEME: QUIET PROTOCOL
    ============================================ */
    [data-theme="quiet-protocol"] {
      --bg-primary: #0a0a0a;
      --bg-secondary: #161616;
      --bg-card: #1a1a1a;
      --text-primary: #F7F3E9;
      --text-secondary: #7cb87c;
      --accent-1: #d4af37;
      --accent-2: #00d4aa;
      --border-radius: 4px;
      --glow-effect: none;
      --heading-font: 'Cormorant Garamond', serif;
      --body-font: 'JetBrains Mono', monospace;
    }

    /* ============================================
       THEME: MYSTIC TERMINAL
    ============================================ */
    [data-theme="mystic"] {
      --bg-primary: #0a0a0a;
      --bg-secondary: #161616;
      --bg-card: rgba(26, 26, 26, 0.8);
      --text-primary: #F7F3E9;
      --text-secondary: #c4a7d7;
      --accent-1: #d4af37;
      --accent-2: #39ff14;
      --border-radius: 4px;
      --glow-effect: 0 0 20px currentColor;
      --heading-font: 'Cormorant Garamond', serif;
      --body-font: 'JetBrains Mono', monospace;
    }

    /* ============================================
       THEME: NEON
    ============================================ */
    [data-theme="neon"] {
      --bg-primary: #0a0e0f;
      --bg-secondary: #1a2e2e;
      --bg-card: #1a2e2e;
      --text-primary: #F7F3E9;
      --text-secondary: #84A98C;
      --accent-1: #D4AF37;
      --accent-2: #00FFD1;
      --border-radius: 1rem;
      --glow-effect: 0 0 30px rgba(0, 255, 209, 0.3);
      --heading-font: 'Exo', sans-serif;
      --body-font: 'Exo', sans-serif;
    }

    /* ============================================
       GLOBAL STYLES
    ============================================ */
    body {
      background: var(--bg-primary);
      color: var(--text-primary);
      font-family: var(--body-font);
      transition: background var(--transition-speed) ease,
                  color var(--transition-speed) ease;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: var(--heading-font);
      font-weight: 700;
      line-height: 1.2;
      transition: font-family var(--transition-speed) ease;
    }

    a {
      color: var(--accent-2);
      text-decoration: none;
      transition: color var(--transition-speed) ease,
                  text-shadow var(--transition-speed) ease;
    }

    a:hover, a:focus {
      color: var(--accent-1);
      text-shadow: var(--glow-effect);
    }

    /* ============================================
       HEXAGON PATTERN (MYSTIC THEME ONLY)
    ============================================ */
    [data-theme="mystic"] body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.03;
      z-index: 0;
      pointer-events: none;
      background-image: url("data:image/svg+xml,%3Csvg width='100' height='87' viewBox='0 0 100 87' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0l50 29 50-29v58l-50 29-50-29z' fill='none' stroke='%23d4af37' stroke-width='1'/%3E%3C/svg%3E");
      background-size: 100px 87px;
    }

    /* ============================================
       LAYOUT
    ============================================ */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      position: relative;
      z-index: 1;
    }

    @media (max-width: 640px) {
      .container {
        padding: 0 1.5rem;
      }
    }

    section {
      padding: 6rem 0;
      position: relative;
    }

    @media (max-width: 768px) {
      section {
        padding: 4rem 0;
      }
    }

    /* ============================================
       THEME TOGGLE
    ============================================ */
    .theme-toggle {
      position: fixed;
      top: 2rem;
      right: 2rem;
      z-index: 1000;
    }

    @media (max-width: 640px) {
      .theme-toggle {
        top: 1rem;
        right: 1rem;
      }
    }

    .theme-toggle select {
      appearance: none;
      -webkit-appearance: none;
      background: var(--bg-secondary);
      color: var(--text-secondary);
      font-family: var(--body-font);
      font-size: 0.875rem;
      font-weight: 500;
      padding: 0.625rem 2.5rem 0.625rem 1rem;
      border-radius: var(--border-radius);
      border: 1px solid rgba(255, 255, 255, 0.1);
      cursor: pointer;
      transition: all var(--transition-speed) ease;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%237cb87c' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.75rem center;
    }

    @media (max-width: 640px) {
      .theme-toggle select {
        font-size: 0.75rem;
        padding: 0.5rem 2rem 0.5rem 0.75rem;
      }
    }

    .theme-toggle select:hover,
    .theme-toggle select:focus {
      border-color: var(--accent-2);
      color: var(--accent-2);
      outline: none;
      box-shadow: var(--glow-effect), 0 4px 20px rgba(0, 0, 0, 0.5);
    }

    .theme-toggle select option {
      background: var(--bg-secondary);
      color: var(--text-primary);
      padding: 0.5rem;
    }

    /* ============================================
       NAV BAR
    ============================================ */
    nav {
      padding: 1.5rem 0;
      position: relative;
      z-index: 10;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    nav .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-logo {
      font-family: var(--heading-font);
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--accent-1);
      letter-spacing: 0.05em;
    }

    .nav-links {
      display: flex;
      gap: 2rem;
      list-style: none;
    }

    .nav-links a {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
    }

    /* ============================================
       HERO
    ============================================ */
    .hero {
      padding: 8rem 0 6rem;
      text-align: center;
      position: relative;
    }

    .hero::before {
      content: '';
      position: absolute;
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(212, 175, 55, 0.08) 0%, transparent 70%);
      top: -100px;
      left: 50%;
      transform: translateX(-50%);
      pointer-events: none;
    }

    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 1.5rem;
      color: var(--text-primary);
    }

    .hero h1 em {
      color: var(--accent-1);
      font-style: normal;
    }

    .hero p {
      font-size: 1.25rem;
      color: var(--text-secondary);
      max-width: 700px;
      margin: 0 auto 2rem;
    }

    .hero .back-link {
      display: inline-block;
      margin-bottom: 2rem;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2.5rem;
      }

      .hero p {
        font-size: 1.1rem;
      }
    }

    /* ============================================
       SECTION HEADERS
    ============================================ */
    .section-header {
      text-align: center;
      margin-bottom: 4rem;
    }

    .section-header h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: var(--accent-1);
    }

    .section-header p {
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto;
    }

    /* ============================================
       PHILOSOPHY SECTION
    ============================================ */
    .philosophy {
      background: var(--bg-secondary);
    }

    .philosophy-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: center;
    }

    @media (max-width: 900px) {
      .philosophy-grid {
        grid-template-columns: 1fr;
        gap: 3rem;
      }
    }

    .philosophy-content p {
      color: var(--text-secondary);
      margin-bottom: 1.5rem;
      font-size: 1rem;
    }

    .philosophy-content p:last-child {
      margin-bottom: 0;
    }

    /* Net Visualization */
    .net-visual {
      position: relative;
      height: 350px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .net-node {
      position: absolute;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--accent-1) 0%, var(--accent-2) 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.25rem;
      color: var(--void-black);
      box-shadow: 0 0 30px rgba(212, 175, 55, 0.4);
      animation: pulse 3s infinite;
    }

    .net-node:nth-child(1) { top: 50%; left: 50%; transform: translate(-50%, -50%); animation-delay: 0s; }
    .net-node:nth-child(2) { top: 10%; left: 30%; animation-delay: 0.5s; }
    .net-node:nth-child(3) { top: 10%; right: 30%; animation-delay: 1s; }
    .net-node:nth-child(4) { top: 50%; right: 10%; animation-delay: 1.5s; }
    .net-node:nth-child(5) { bottom: 10%; right: 30%; animation-delay: 2s; }
    .net-node:nth-child(6) { bottom: 10%; left: 30%; animation-delay: 2.5s; }
    .net-node:nth-child(7) { top: 50%; left: 10%; animation-delay: 0.8s; }

    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 30px rgba(212, 175, 55, 0.4); }
      50% { box-shadow: 0 0 50px rgba(0, 212, 170, 0.6); }
    }

    [data-theme="mystic"] .net-node {
      box-shadow: 0 0 40px rgba(57, 255, 20, 0.4);
    }

    [data-theme="neon"] .net-node {
      box-shadow: 0 0 40px rgba(0, 255, 209, 0.4);
    }

    @media (max-width: 900px) {
      .net-visual {
        display: none;
      }
    }

    /* ============================================
       FEATURES GRID
    ============================================ */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
    }

    .feature-card {
      background: var(--bg-card);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--border-radius);
      padding: 2rem;
      transition: all var(--transition-speed) ease;
    }

    .feature-card:hover {
      border-color: var(--accent-2);
      transform: translateY(-4px);
      box-shadow: var(--glow-effect);
    }

    .feature-icon {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--accent-1) 0%, var(--accent-2) 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
    }

    .feature-card h3 {
      font-size: 1.25rem;
      margin-bottom: 0.75rem;
      color: var(--text-primary);
    }

    .feature-card p {
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    /* ============================================
       ARCHITECTURE DIAGRAM
    ============================================ */
    .architecture {
      background: var(--bg-secondary);
    }

    .arch-diagram {
      background: var(--bg-card);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--border-radius);
      padding: 2.5rem;
    }

    .arch-layer {
      background: rgba(212, 175, 55, 0.05);
      border: 1px solid rgba(212, 175, 55, 0.2);
      border-radius: var(--border-radius);
      padding: 1.25rem 1.5rem;
      margin-bottom: 0.75rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all var(--transition-speed) ease;
    }

    .arch-layer:last-child {
      margin-bottom: 0;
    }

    .arch-layer:hover {
      background: rgba(212, 175, 55, 0.1);
      border-color: var(--accent-1);
    }

    .arch-layer h4 {
      font-size: 1rem;
      color: var(--text-primary);
      font-family: var(--body-font);
      font-weight: 600;
    }

    .arch-modules {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .module-tag {
      background: rgba(0, 212, 170, 0.15);
      color: var(--accent-2);
      padding: 0.25rem 0.75rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-family: 'JetBrains Mono', monospace;
    }

    [data-theme="mystic"] .module-tag {
      text-shadow: 0 0 10px currentColor;
    }

    @media (max-width: 768px) {
      .arch-layer {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
      }
    }

    /* ============================================
       TECH STACK
    ============================================ */
    .tech-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1.5rem;
    }

    .tech-item {
      background: var(--bg-card);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      text-align: center;
      transition: all var(--transition-speed) ease;
    }

    .tech-item:hover {
      border-color: var(--accent-1);
    }

    .tech-item h4 {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
      color: var(--accent-1);
    }

    .tech-item p {
      color: var(--text-secondary);
      font-size: 0.85rem;
    }

    /* ============================================
       SECURITY
    ============================================ */
    .security {
      background: var(--bg-secondary);
    }

    .security-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: start;
    }

    @media (max-width: 900px) {
      .security-grid {
        grid-template-columns: 1fr;
        gap: 3rem;
      }
    }

    .security-features {
      list-style: none;
    }

    .security-features li {
      padding: 1.25rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: flex-start;
      gap: 1rem;
    }

    .security-features li:last-child {
      border-bottom: none;
    }

    .check-icon {
      width: 24px;
      height: 24px;
      background: var(--accent-2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      margin-top: 2px;
      font-size: 0.8rem;
      color: var(--void-black);
    }

    .security-features strong {
      display: block;
      margin-bottom: 0.25rem;
    }

    .security-features p {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .crypto-badges {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .crypto-badge {
      background: var(--bg-card);
      border: 1px solid rgba(0, 212, 170, 0.3);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .crypto-badge .icon {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--accent-2) 0%, var(--moss) 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
    }

    .crypto-badge h4 {
      font-size: 1rem;
      margin-bottom: 0.25rem;
      color: var(--text-primary);
    }

    .crypto-badge p {
      color: var(--text-secondary);
      font-size: 0.85rem;
    }

    /* ============================================
       USE CASES
    ============================================ */
    .use-cases-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .use-case {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.05) 0%, rgba(0, 212, 170, 0.05) 100%);
      border: 1px solid rgba(212, 175, 55, 0.2);
      border-radius: var(--border-radius);
      padding: 1.75rem;
    }

    .use-case h4 {
      font-size: 1.1rem;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .use-case p {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    /* ============================================
       CTA SECTION
    ============================================ */
    .cta-section {
      text-align: center;
      background: var(--bg-secondary);
    }

    .cta-section h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .cta-section > .container > p {
      color: var(--text-secondary);
      margin-bottom: 2rem;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    .cta-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      padding: 0.875rem 1.75rem;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 600;
      font-family: var(--body-font);
      text-decoration: none;
      transition: all var(--transition-speed) ease;
      display: inline-block;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent-1) 0%, var(--gold) 100%);
      color: var(--void-black);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 40px rgba(212, 175, 55, 0.3);
      color: var(--void-black);
    }

    .btn-secondary {
      background: transparent;
      color: var(--text-primary);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .btn-secondary:hover {
      border-color: var(--accent-2);
      background: rgba(0, 212, 170, 0.1);
    }

    /* ============================================
       FOOTER
    ============================================ */
    footer {
      padding: 3rem 0;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      text-align: center;
    }

    footer p {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    /* ============================================
       REDUCED MOTION
    ============================================ */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>
</head>
<body>
  <!-- Theme Toggle -->
  <div class="theme-toggle">
    <select id="themeSelect" aria-label="Select theme">
      <option value="quiet-protocol">Quiet Protocol</option>
      <option value="mystic">Mystic Terminal</option>
      <option value="neon">Neon</option>
    </select>
  </div>

  <!-- Navigation -->
  <nav>
    <div class="container">
      <a href="index.html" class="nav-logo">Synchronicity Engine</a>
      <ul class="nav-links">
        <li><a href="#philosophy">Philosophy</a></li>
        <li><a href="#features">Features</a></li>
        <li><a href="#architecture">Architecture</a></li>
        <li><a href="#security">Security</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <a href="index.html" class="back-link">&larr; Back to Synchronicity Engine</a>
      <h1>The Mesh: <em>Indra's Net</em> Made Digital</h1>
      <p>
        A delay-tolerant P2P networking stack with store-and-forward routing, CRDT synchronization,
        and post-quantum cryptography. Built for networks where connectivity is intermittent and
        resilience is essential.
      </p>
    </div>
  </section>

  <!-- Philosophy -->
  <section id="philosophy" class="philosophy">
    <div class="container">
      <div class="philosophy-grid">
        <div class="philosophy-content">
          <h2>Inspired by Indra's Net</h2>
          <p>
            In Buddhist and Hindu philosophy, <em>Indra's Net</em> describes an infinite web where
            each node contains a jewel that reflects all other jewels in the network. Every point
            contains the whole; every connection strengthens the fabric.
          </p>
          <p>
            The Synchronicity Engine embodies this concept: every peer is equally important, every
            connection strengthens the whole, and the network adapts fluidly as nodes come and go.
          </p>
          <p>
            No central servers. No single points of failure. Just resilient, peer-to-peer communication
            that works even when the internet doesn't.
          </p>
        </div>
        <div class="net-visual" aria-hidden="true">
          <div class="net-node">A</div>
          <div class="net-node">B</div>
          <div class="net-node">C</div>
          <div class="net-node">D</div>
          <div class="net-node">E</div>
          <div class="net-node">F</div>
          <div class="net-node">G</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Core Features -->
  <section id="features">
    <div class="container">
      <div class="section-header">
        <h2>Core Capabilities</h2>
        <p>A complete networking stack designed for challenged environments where traditional approaches fail.</p>
      </div>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">&#x1F4E6;</div>
          <h3>Store-and-Forward Routing</h3>
          <p>Messages are held by intermediate nodes until the destination comes online. Automatic delivery with back-propagation confirmations ensure nothing gets lost.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">&#x23F1;</div>
          <h3>Delay-Tolerant Networking</h3>
          <p>Multiple routing strategies including Epidemic, Spray-and-Wait, and configurable bundle lifetimes up to 7 days. Perfect for high-latency or intermittent connections.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">&#x1F504;</div>
          <h3>CRDT Synchronization</h3>
          <p>Automerge-powered document sync with automatic conflict resolution. Edit offline, sync seamlessly when reconnected. No conflicts, no data loss.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">&#x1F512;</div>
          <h3>End-to-End Encryption</h3>
          <p>X25519 key exchange with ChaCha20-Poly1305 authenticated encryption. Messages are sealed packets that relay nodes cannot read.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">&#x269B;</div>
          <h3>Post-Quantum Ready</h3>
          <p>ML-KEM-768 key encapsulation and ML-DSA-65 signatures protect against future quantum computing threats. NIST-standardized algorithms.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">&#x1F310;</div>
          <h3>NAT Traversal</h3>
          <p>Built on Iroh with QUIC transport. Automatic hole punching and relay fallback ensure peers can always connect, regardless of network topology.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Architecture -->
  <section id="architecture" class="architecture">
    <div class="container">
      <div class="section-header">
        <h2>Layered Architecture</h2>
        <p>Modular design with clear separation of concerns. Use the full stack or just the layers you need.</p>
      </div>
      <div class="arch-diagram">
        <div class="arch-layer">
          <h4>Application Layer</h4>
          <div class="arch-modules">
            <span class="module-tag">syncengine-ui</span>
            <span class="module-tag">chat</span>
            <span class="module-tag">quests</span>
          </div>
        </div>
        <div class="arch-layer">
          <h4>Node Coordination</h4>
          <div class="arch-modules">
            <span class="module-tag">syncengine-node</span>
            <span class="module-tag">messaging</span>
          </div>
        </div>
        <div class="arch-layer">
          <h4>Sync & Gossip</h4>
          <div class="arch-modules">
            <span class="module-tag">gossip-sync</span>
            <span class="module-tag">iroh-gossip</span>
          </div>
        </div>
        <div class="arch-layer">
          <h4>Routing & DTN</h4>
          <div class="arch-modules">
            <span class="module-tag">routing</span>
            <span class="module-tag">dtn-bundle</span>
          </div>
        </div>
        <div class="arch-layer">
          <h4>Transport</h4>
          <div class="arch-modules">
            <span class="module-tag">transport</span>
            <span class="module-tag">iroh-quic</span>
          </div>
        </div>
        <div class="arch-layer">
          <h4>Core & Storage</h4>
          <div class="arch-modules">
            <span class="module-tag">syncengine-core</span>
            <span class="module-tag">crypto</span>
            <span class="module-tag">redb</span>
            <span class="module-tag">automerge</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Tech Stack -->
  <section>
    <div class="container">
      <div class="section-header">
        <h2>Technology Stack</h2>
        <p>Built with modern, battle-tested technologies for performance and reliability.</p>
      </div>
      <div class="tech-grid">
        <div class="tech-item">
          <h4>Rust</h4>
          <p>Memory-safe systems programming</p>
        </div>
        <div class="tech-item">
          <h4>Tokio</h4>
          <p>Async runtime for performance</p>
        </div>
        <div class="tech-item">
          <h4>Iroh</h4>
          <p>P2P networking foundation</p>
        </div>
        <div class="tech-item">
          <h4>Automerge</h4>
          <p>CRDT document sync</p>
        </div>
        <div class="tech-item">
          <h4>redb</h4>
          <p>Embedded key-value storage</p>
        </div>
        <div class="tech-item">
          <h4>Dioxus</h4>
          <p>Pure Rust UI framework</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Security -->
  <section id="security" class="security">
    <div class="container">
      <div class="section-header">
        <h2>Security First</h2>
        <p>Quantum-resistant cryptography protects your data against both current and future threats.</p>
      </div>
      <div class="security-grid">
        <div>
          <ul class="security-features">
            <li>
              <span class="check-icon">&#x2713;</span>
              <div>
                <strong>Sealed Packets</strong>
                <p>Relay nodes cannot read message contents. Privacy is preserved at every hop.</p>
              </div>
            </li>
            <li>
              <span class="check-icon">&#x2713;</span>
              <div>
                <strong>Per-Realm Keys</strong>
                <p>Each realm has its own encryption key. Compromise of one realm doesn't affect others.</p>
              </div>
            </li>
            <li>
              <span class="check-icon">&#x2713;</span>
              <div>
                <strong>Memory Safety</strong>
                <p>Written in Rust. No buffer overflows, use-after-free, or data races.</p>
              </div>
            </li>
            <li>
              <span class="check-icon">&#x2713;</span>
              <div>
                <strong>Quantum Resistant</strong>
                <p>NIST-standardized post-quantum algorithms protect against future threats.</p>
              </div>
            </li>
          </ul>
        </div>
        <div class="crypto-badges">
          <div class="crypto-badge">
            <div class="icon">&#x1F510;</div>
            <div>
              <h4>ML-KEM-768</h4>
              <p>Post-quantum key encapsulation</p>
            </div>
          </div>
          <div class="crypto-badge">
            <div class="icon">&#x270D;</div>
            <div>
              <h4>ML-DSA-65</h4>
              <p>Post-quantum digital signatures</p>
            </div>
          </div>
          <div class="crypto-badge">
            <div class="icon">&#x1F511;</div>
            <div>
              <h4>ChaCha20-Poly1305</h4>
              <p>Modern authenticated encryption</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Use Cases -->
  <section>
    <div class="container">
      <div class="section-header">
        <h2>Built For</h2>
        <p>Real-world applications where traditional networking falls short.</p>
      </div>
      <div class="use-cases-grid">
        <div class="use-case">
          <h4>&#x1F4F1; Offline-First Apps</h4>
          <p>Quests, messages, and documents that work without internet and sync seamlessly when reconnected.</p>
        </div>
        <div class="use-case">
          <h4>&#x1F6F0; Satellite Networks</h4>
          <p>Handle long delays and intermittent connectivity inherent in space-based communication.</p>
        </div>
        <div class="use-case">
          <h4>&#x1F3D4; Remote Communities</h4>
          <p>Community mesh networks where infrastructure is limited or non-existent.</p>
        </div>
        <div class="use-case">
          <h4>&#x26A1; Disaster Response</h4>
          <p>Communications that work when traditional infrastructure has failed.</p>
        </div>
        <div class="use-case">
          <h4>&#x1F30D; Sacred Gatherings</h4>
          <p>Temporary mesh networks at Gatherings of the Tribe where the Field manifests physically.</p>
        </div>
        <div class="use-case">
          <h4>&#x1F3DD; Off-Grid Living</h4>
          <p>Connect with your community even when living outside conventional infrastructure.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta-section">
    <div class="container">
      <h2>Enter the Field</h2>
      <p>The mesh is forming. Join the network of sovereign collaboration.</p>
      <div class="cta-buttons">
        <a href="index.html" class="btn btn-primary">Back to Synchronicity Engine</a>
        <a href="https://github.com/syncengine" class="btn btn-secondary">View on GitHub</a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p>Synchronicity Engine is built with <a href="https://www.rust-lang.org/">Rust</a> and <a href="https://iroh.computer/">Iroh</a>. A project of the GratiDAO.</p>
    </div>
  </footer>

  <!-- Theme Script -->
  <script>
    (function() {
      'use strict';

      const STORAGE_KEY = 'syncengine-theme';
      const themeSelect = document.getElementById('themeSelect');

      // Apply theme to document and update select
      function applyTheme(themeName) {
        document.documentElement.setAttribute('data-theme', themeName);
        themeSelect.value = themeName;
      }

      // Handle theme change
      themeSelect.addEventListener('change', (e) => {
        const newTheme = e.target.value;
        localStorage.setItem(STORAGE_KEY, newTheme);
        applyTheme(newTheme);
      });

      // Initialize theme from localStorage or default
      const savedTheme = localStorage.getItem(STORAGE_KEY) || 'quiet-protocol';
      applyTheme(savedTheme);
    })();
  </script>
</body>
</html>
